use crate::outb;

pub unsafe fn load_euro_glyph() {
    let euro_mask: [u8; 16] = [
        0x00, 0x00, 0x38, 0x44, 0x44, 0xF8, 0x40, 0xF8, 0x40, 0x44, 0x44, 0x38, 0x00, 0x00, 0x00,
        0x00,
    ];

    outb(0x3C4, 0x02);
    outb(0x3C5, 0x04);
    outb(0x3C4, 0x04);
    outb(0x3C5, 0x07);
    outb(0x3CE, 0x04);
    outb(0x3CF, 0x02);
    outb(0x3CE, 0x05);
    outb(0x3CF, 0x00);
    outb(0x3CE, 0x06);
    outb(0x3CF, 0x00);

    let font_mem = 0xA0000 as *mut u8;
    for i in 0..16 {
        *font_mem.add(0xEE * 32 + i) = euro_mask[i];
    }

    outb(0x3C4, 0x02);
    outb(0x3C5, 0x03);
    outb(0x3C4, 0x04);
    outb(0x3C5, 0x03);
    outb(0x3CE, 0x04);
    outb(0x3CF, 0x00);
    outb(0x3CE, 0x05);
    outb(0x3CF, 0x10);
    outb(0x3CE, 0x06);
    outb(0x3CF, 0x0E);
}
